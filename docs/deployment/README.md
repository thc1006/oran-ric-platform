# O-RAN RIC xApps Prometheus Metrics éƒ¨ç½²æ–‡æª”

**ä½œè€…**: è”¡ç§€å‰ (thc1006)
**æ—¥æœŸ**: 2025-11-15
**ç‰ˆæœ¬**: 1.0.0

## æ–‡æª”ç´¢å¼•

æœ¬ç›®éŒ„åŒ…å« O-RAN RIC Platform xApps Prometheus Metrics æ•´åˆçš„å®Œæ•´éƒ¨ç½²æ–‡æª”ã€‚

### ğŸ“š å¯ç”¨æ–‡æª”

| æ–‡æª” | æè¿° | é©ç”¨å°è±¡ |
|------|------|----------|
| [å¿«é€Ÿå•Ÿå‹•æŒ‡å—](./QUICKSTART.md) | 10 åˆ†é˜å¿«é€Ÿéƒ¨ç½²æŒ‡å— | ç†Ÿæ‚‰ O-RAN çš„ä½¿ç”¨è€… |
| [å®Œæ•´éƒ¨ç½²æŒ‡å—](./xapp-prometheus-metrics-integration.md) | è©³ç´°çš„åˆ†éšæ®µéƒ¨ç½²æµç¨‹ï¼ŒåŒ…å«æ‰€æœ‰ bug ä¿®å¾©éç¨‹ | é¦–æ¬¡éƒ¨ç½²è€…ã€ç¶­è­·è€… |
| [æ•…éšœæ’é™¤æŒ‡å—](./TROUBLESHOOTING.md) | å¸¸è¦‹å•é¡Œè¨ºæ–·èˆ‡è§£æ±ºæ–¹æ¡ˆ | é‡åˆ°å•é¡Œçš„ä½¿ç”¨è€… |

## å¿«é€Ÿå°èˆª

### ğŸš€ é¦–æ¬¡éƒ¨ç½²

å¦‚æœæ‚¨æ˜¯ç¬¬ä¸€æ¬¡éƒ¨ç½²ï¼Œå»ºè­°æŒ‰ä»¥ä¸‹é †åºé–±è®€ï¼š

1. **[å¿«é€Ÿå•Ÿå‹•æŒ‡å—](./QUICKSTART.md)** - äº†è§£éƒ¨ç½²æµç¨‹æ¦‚è¦½
2. **[å®Œæ•´éƒ¨ç½²æŒ‡å—](./xapp-prometheus-metrics-integration.md)** - è·Ÿéš¨è©³ç´°æ­¥é©Ÿé€²è¡Œéƒ¨ç½²
3. **[æ•…éšœæ’é™¤æŒ‡å—](./TROUBLESHOOTING.md)** - é‡åˆ°å•é¡Œæ™‚åƒè€ƒ

### ğŸ”§ æ•…éšœæ’é™¤

å¦‚æœéƒ¨ç½²éç¨‹ä¸­é‡åˆ°å•é¡Œï¼š

1. æŸ¥çœ‹ **[æ•…éšœæ’é™¤æŒ‡å—](./TROUBLESHOOTING.md)** ä¸­çš„ç›¸é—œç« ç¯€
2. å¦‚æœå•é¡Œæœªåˆ—å‡ºï¼Œåƒè€ƒ **[å®Œæ•´éƒ¨ç½²æŒ‡å—](./xapp-prometheus-metrics-integration.md)** ä¸­çš„é™¤éŒ¯ç¶“é©—

### ğŸ“Š å·²éƒ¨ç½²çµ„ä»¶æŸ¥è©¢

å¿«é€Ÿæª¢æŸ¥æ‰€æœ‰çµ„ä»¶ç‹€æ…‹ï¼š

```bash
# æª¢æŸ¥ xApps
kubectl get pods -n ricxapp

# æª¢æŸ¥ Prometheus
kubectl get pods -n ricplt -l app=prometheus

# æª¢æŸ¥ Grafana
kubectl get pods -n ricplt -l app.kubernetes.io/name=grafana
```

## éƒ¨ç½²å…§å®¹ç¸½è¦½

### å·²å¯¦ä½œåŠŸèƒ½

- âœ… KPIMON xApp HTTP endpoint (port 8081)
- âœ… Traffic Steering xApp HTTP endpoint (port 8081)
- âœ… QoE Predictor xApp HTTP endpoint (port 8090)
- âœ… RAN Control xApp HTTP endpoint (port 8100)
- âœ… Federated Learning xApp (port 8110)
- âœ… E2 Simulator æ¸¬è©¦æµé‡ç”Ÿæˆ
- âœ… Prometheus metrics æ•´åˆ
- âœ… Prometheus alert rules (8 å€‹é¡åˆ¥)
- âœ… Grafana dashboards é©—è­‰
- âœ… è‡ªå‹•åŒ–æ¸¬è©¦ (Playwright E2E)

### ä¿®å¾©çš„ä¸»è¦ Bug

1. **Traffic Steering SDL éŒ¯èª¤** - æ·»åŠ éŒ¯èª¤è™•ç†é¿å… Pod é‡å•Ÿ
2. **ç«¯å£é…ç½®ä¸ä¸€è‡´** - çµ±ä¸€ Serviceã€Deploymentã€Prometheus annotations
3. **E2 Simulator ç«¯å£é…ç½®éŒ¯èª¤** - ä¿®æ­£ QoE Predictor å’Œ RC xApp ç«¯å£
4. **KPIMON metrics ä¸éå¢** - æ·»åŠ  counter increment é‚è¼¯
5. **Playwright headless æ¨¡å¼å¤±æ•—** - ä½¿ç”¨æ–°ç‰ˆ headless æ¨¡å¼

### æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  E2 Simulator   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP POST
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                  â†“              â†“             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   KPIMON    â”‚  â”‚   Traffic    â”‚  â”‚   QoE    â”‚  â”‚    RC    â”‚
â”‚   :8081     â”‚  â”‚   Steering   â”‚  â”‚ Predictorâ”‚  â”‚   :8100  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚             â”‚
       â”‚          Prometheus Scraping (:8080)          â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                 â”‚  Prometheus â”‚
                 â”‚   :9090     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                 â”‚   Grafana   â”‚
                 â”‚   :3000     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç‰ˆæœ¬è³‡è¨Š

| çµ„ä»¶ | ç‰ˆæœ¬ | è®Šæ›´èªªæ˜ |
|------|------|----------|
| KPIMON | v1.0.1 | æ·»åŠ  HTTP endpoint + metrics increment |
| Traffic Steering | v1.0.2 | ä¿®å¾© SDL éŒ¯èª¤ + ç«¯å£é…ç½® |
| QoE Predictor | v1.0.1 | æ·»åŠ  HTTP endpoint |
| RAN Control | v1.0.1 | æ·»åŠ  HTTP endpoint |
| Federated Learning | v1.0.0 | åˆå§‹éƒ¨ç½² |
| E2 Simulator | v1.0.0 | åˆå§‹éƒ¨ç½² |

## Metrics æ¦‚è¦½

### KPIMON Metrics

```promql
kpimon_messages_received_total      # æ¥æ”¶è¨Šæ¯ç¸½æ•¸
kpimon_messages_processed_total     # è™•ç†è¨Šæ¯ç¸½æ•¸
kpimon_processing_time_seconds      # è™•ç†æ™‚é–“ï¼ˆç›´æ–¹åœ–ï¼‰
kpimon_active_subscriptions         # æ´»èºè¨‚é–±æ•¸
kpimon_kpi_value                    # KPI æ•¸å€¼ï¼ˆæŒ‰é¡å‹ï¼‰
```

### Alert Rules

- xApp å¯ç”¨æ€§å‘Šè­¦
- è¨Šæ¯è™•ç†å»¶é²å‘Šè­¦
- è³‡æºä½¿ç”¨å‘Šè­¦
- E2 ä»‹é¢å‘Šè­¦
- æ¥­å‹™é‚è¼¯å‘Šè­¦ï¼ˆPRB ä½¿ç”¨ç‡ã€è¨Šè™Ÿå“è³ªç­‰ï¼‰

## ç›¸é—œè³‡æº

### å®˜æ–¹æ–‡æª”

- [O-RAN SC Wiki](https://wiki.o-ran-sc.org/)
- [Prometheus æ–‡æª”](https://prometheus.io/docs/)
- [Grafana æ–‡æª”](https://grafana.com/docs/)
- [Playwright æ–‡æª”](https://playwright.dev/)

### å°ˆæ¡ˆé€£çµ

- å®Œæ•´å°ˆæ¡ˆ: `/home/thc1006/oran-ric-platform`
- xApps ç›®éŒ„: `/home/thc1006/oran-ric-platform/xapps`
- ç›£æ§é…ç½®: `/home/thc1006/oran-ric-platform/monitoring`
- æ¸¬è©¦è…³æœ¬: `/home/thc1006/oran-ric-platform/tests`

## ç¶­è­·èˆ‡æ›´æ–°

### å®šæœŸæª¢æŸ¥é …ç›®

æ¯é€±æª¢æŸ¥ï¼š
- [ ] xApp Pods é‹è¡Œç‹€æ…‹
- [ ] Prometheus targets å¥åº·ç‹€æ…‹
- [ ] Alert rules è§¸ç™¼æƒ…æ³
- [ ] Grafana dashboard æ•¸æ“šå®Œæ•´æ€§

æ¯æœˆæª¢æŸ¥ï¼š
- [ ] Docker æ˜ åƒæ›´æ–°
- [ ] Kubernetes è³‡æºä½¿ç”¨æƒ…æ³
- [ ] æ—¥èªŒæª”æ¡ˆå¤§å°
- [ ] æ¸¬è©¦å¥—ä»¶åŸ·è¡Œ

### æ›´æ–°æ–‡æª”

å¦‚æœæ‚¨ç™¼ç¾æ–‡æª”ä¸­çš„éŒ¯èª¤æˆ–éœ€è¦è£œå……å…§å®¹ï¼Œè«‹ï¼š

1. ç·¨è¼¯å°æ‡‰çš„ Markdown æª”æ¡ˆ
2. åœ¨æª”æ¡ˆé ‚éƒ¨æ›´æ–°ç‰ˆæœ¬è™Ÿå’Œæ—¥æœŸ
3. åœ¨æ­¤ README ä¸­è¨˜éŒ„è®Šæ›´

## è²¢ç»è€…

- è”¡ç§€å‰ (thc1006) - åˆå§‹å¯¦ä½œèˆ‡æ–‡æª”æ’°å¯«

## æˆæ¬Š

æœ¬æ–‡æª”éµå¾ªèˆ‡ O-RAN SC RIC Platform ç›¸åŒçš„æˆæ¬Šå”è­°ã€‚

---

**æœ€å¾Œæ›´æ–°**: 2025-11-15
**æ–‡æª”ç‰ˆæœ¬**: 1.0.0
